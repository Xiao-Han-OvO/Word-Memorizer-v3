<template>
	<div class="about-settings space-y-6">
		<!-- åº”ç”¨ä¿¡æ¯ -->
		<div class="setting-section text-center">
			<div class="card p-8">
				<div class="text-6xl mb-4">ğŸ“š</div>
				<h2 class="text-3xl font-bold mb-2">VocabMemster</h2>
				<p class="text-gray-600 dark:text-gray-400 mb-4">
					ç‰ˆæœ¬ {{ appConfig.version }}
				</p>
				<p class="text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto">
					{{ appConfig.appName }} æ˜¯ä¸€ä¸ªç®€çº¦é«˜æ•ˆçš„å•è¯èƒŒè¯µå·¥å…·ï¼Œå¸®åŠ©æ‚¨è½»æ¾è®°å¿†è‹±è¯­å•è¯ã€‚
				</p>
			</div>
		</div>

		<!-- ç‰ˆæœ¬ä¿¡æ¯ -->
		<div class="setting-section">
			<h3 class="text-lg font-semibold mb-4">ç‰ˆæœ¬ä¿¡æ¯</h3>
			
			<div class="card p-4 space-y-3">
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">åº”ç”¨ç‰ˆæœ¬:</span>
					<span class="text-sm font-medium">{{ appConfig.version }}</span>
				</div>
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">æ„å»ºæ—¥æœŸ:</span>
					<span class="text-sm font-medium">{{ buildDate }}</span>
				</div>
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">å‰ç«¯æ¡†æ¶:</span>
					<span class="text-sm font-medium">Vue 3 + Vite</span>
				</div>
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">åç«¯æ¡†æ¶:</span>
					<span class="text-sm font-medium">C++ + GTK + WebKit</span>
				</div>
			</div>
		</div>

		<!-- å¼€å‘è€…ä¿¡æ¯ -->
		<div class="setting-section">
			<h3 class="text-lg font-semibold mb-4">å¼€å‘è€…ä¿¡æ¯</h3>
			
			<div class="card p-4 space-y-3">
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">å¼€å‘è€…:</span>
					<span class="text-sm font-medium">{{ appConfig.author }}</span>
				</div>
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">è®¸å¯è¯:</span>
					<span class="text-sm font-medium">MIT License</span>
				</div>
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">æºä»£ç :</span>
					<a 
						href="#" 
						class="text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300"
						@click="openRepository"
					>
						GitHub Repository
					</a>
				</div>
			</div>
		</div>

		<!-- ç³»ç»Ÿä¿¡æ¯ -->
		<div class="setting-section">
			<h3 class="text-lg font-semibold mb-4">ç³»ç»Ÿä¿¡æ¯</h3>
			
			<div class="card p-4 space-y-3">
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">ç”¨æˆ·ä»£ç†:</span>
					<span class="text-sm font-medium">{{ userAgent }}</span>
				</div>
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">è¯­è¨€:</span>
					<span class="text-sm font-medium">{{ language }}</span>
				</div>
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">æ—¶åŒº:</span>
					<span class="text-sm font-medium">{{ timezone }}</span>
				</div>
				<div class="flex justify-between">
					<span class="text-sm text-gray-600 dark:text-gray-400">å±å¹•åˆ†è¾¨ç‡:</span>
					<span class="text-sm font-medium">{{ screenResolution }}</span>
				</div>
			</div>
		</div>

		<!-- æ“ä½œæŒ‰é’® -->
		<div class="setting-section">
			<div class="grid grid-cols-1 md:grid-cols-2 gap-3">
				<button
					@click="checkForUpdates"
					class="btn btn-primary"
				>
					ğŸ”„ æ£€æŸ¥æ›´æ–°
				</button>
				<button
					@click="showLicense"
					class="btn btn-secondary"
				>
					ğŸ“„ æŸ¥çœ‹è®¸å¯è¯
				</button>
				<button
					@click="showChangelog"
					class="btn btn-secondary"
				>
					ğŸ“‹ æ›´æ–°æ—¥å¿—
				</button>
				<button
					@click="showSystemInfo"
					class="btn btn-secondary"
				>
					ğŸ’» ç³»ç»Ÿä¿¡æ¯
				</button>
			</div>
		</div>

		<!-- è‡´è°¢ -->
		<div class="setting-section">
			<h3 class="text-lg font-semibold mb-4">è‡´è°¢</h3>
			
			<div class="card p-4">
				<p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
					æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæŠ€æœ¯ï¼š
				</p>
				<ul class="text-sm space-y-1 text-gray-500 dark:text-gray-400">
					<li>â€¢ Vue.js - æ¸è¿›å¼ JavaScript æ¡†æ¶</li>
					<li>â€¢ Vite - ä¸‹ä¸€ä»£å‰ç«¯å·¥å…·</li>
					<li>â€¢ Tailwind CSS - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶</li>
					<li>â€¢ GTK - è·¨å¹³å°å›¾å½¢å·¥å…·åŒ…</li>
					<li>â€¢ WebKit - Web æµè§ˆå™¨å¼•æ“</li>
					<li>â€¢ nlohmann/json - C++ JSON åº“</li>
				</ul>
			</div>
		</div>
	</div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { AppConfig } from '@settings/app.config'

const appConfig = AppConfig

// å“åº”å¼æ•°æ®
const buildDate = ref('2024-01-15')
const userAgent = ref('')
const language = ref('')
const timezone = ref('')
const screenResolution = ref('')

// æ–¹æ³•
const openRepository = () => {
	// æ‰“å¼€ GitHub ä»“åº“
	window.open('https://github.com/username/vocabmemster', '_blank')
}

const checkForUpdates = () => {
	bridge.send('checkForUpdates', {})
}

const showLicense = () => {
	bridge.send('showLicense', {})
}

const showChangelog = () => {
	bridge.send('showChangelog', {})
}

const showSystemInfo = () => {
	bridge.send('showSystemInfo', {})
}

// åˆå§‹åŒ–
onMounted(() => {
	// è·å–æµè§ˆå™¨ä¿¡æ¯
	userAgent.value = navigator.userAgent
	language.value = navigator.language
	timezone.value = Intl.DateTimeFormat().resolvedOptions().timeZone
	screenResolution.value = `${window.screen.width}x${window.screen.height}`
	
	// è·å–æ„å»ºæ—¥æœŸï¼ˆä»ç¯å¢ƒå˜é‡æˆ–å…¶ä»–æ¥æºï¼‰
	if (import.meta.env?.VITE_BUILD_DATE) {
		buildDate.value = import.meta.env.VITE_BUILD_DATE
	}
})
</script>

<style scoped>
.about-settings {
	text-align: left;
}
</style>