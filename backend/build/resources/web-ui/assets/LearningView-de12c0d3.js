import{c as g,a,b as d,e,t as i,x as E,F as j,k as A,n as C,f as b,r as B,o as M,j as o,l as N,y as z,z as D,A as L,B as P,g as K,C as R}from"./vendor-24828a23.js";import{_ as I,u as O,a as U,A as q}from"./index-d08aca9e.js";import"./utils-b3ab6b14.js";const G={class:"progress-container"},H={class:"progress-info flex justify-between items-center mb-2"},J={class:"text-sm font-semibold text-blue-600 dark:text-blue-400"},Q={class:"progress-bar w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden"},X={class:"progress-details flex justify-between items-center mt-2"},Y={class:"text-xs text-gray-500 dark:text-gray-400"},Z={class:"text-xs text-gray-500 dark:text-gray-400"},ee={key:0,class:"progress-stages mt-4"},te={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400"},se={class:"flex justify-between mt-1"},re={__name:"ProgressBar",props:{progress:{type:Number,default:0,validator:t=>t>=0&&t<=1},masteredCount:{type:Number,default:0},totalCount:{type:Number,default:0},showStages:{type:Boolean,default:!0}},setup(t){O();const x=t,l=g(()=>Math.max(0,x.totalCount-x.masteredCount)),_=g(()=>{const r=x.progress;return r<.3?"#ef4444":r<.7?"#f59e0b":r<.9?"#10b981":"#8b5cf6"}),m=g(()=>{const r=x.progress;return[{label:"å¼€å§‹",completed:r>0,current:r<=.25},{label:"25%",completed:r>.25,current:r>.25&&r<=.5},{label:"50%",completed:r>.5,current:r>.5&&r<=.75},{label:"75%",completed:r>.75,current:r>.75&&r<1},{label:"å®Œæˆ",completed:r>=1,current:r>=1}]});return(r,k)=>(a(),d("div",G,[e("div",H,[k[0]||(k[0]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," å­¦ä¹ è¿›åº¦ ",-1)),e("span",J,i(Math.round(t.progress*100))+"% ",1)]),e("div",Q,[e("div",{class:"progress-fill h-3 rounded-full transition-all duration-500 ease-out",style:E({width:`${t.progress*100}%`,backgroundColor:_.value})},null,4)]),e("div",X,[e("span",Y," å·²æŒæ¡: "+i(t.masteredCount)+" / "+i(t.totalCount),1),e("span",Z," å‰©ä½™: "+i(l.value),1)]),t.showStages?(a(),d("div",ee,[e("div",te,[(a(!0),d(j,null,A(m.value,u=>(a(),d("span",{key:u.label,class:C(["stage-marker",u.completed?"text-green-500 font-medium":"",u.current?"text-blue-500 font-bold":""])},i(u.label),3))),128))]),e("div",se,[(a(!0),d(j,null,A(m.value,u=>(a(),d("div",{key:u.label,class:C(["stage-bar h-1 rounded-full flex-1 mx-1",[u.completed?"bg-green-500":u.current?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"]])},null,2))),128))])])):b("",!0)]))}},ae=I(re,[["__scopeId","data-v-c40a285f"]]);const de={class:"word-card-container"},ne={key:0,class:"pos-tag tag tag-pos inline-block mb-4"},oe={key:1,class:"meaning text-3xl md:text-4xl font-bold mb-6 text-gray-900 dark:text-white"},le={key:2,class:"example text-lg text-gray-600 dark:text-gray-300 mb-6 italic"},ie={class:"flex items-center justify-center space-x-2"},ce={class:"text-2xl"},ue={class:"text-lg font-medium"},ge={key:4,class:"controls mt-8 flex justify-center space-x-4"},xe={key:5,class:"loading-state mt-6"},be={key:6,class:"derivatives-hint mt-6 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800"},pe={key:0,class:"word-info-panel card mt-4 p-4"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},ye={class:"info-item"},fe={class:"ml-2 font-semibold text-gray-900 dark:text-white"},ke={class:"info-item"},ve={class:"ml-2 text-gray-700 dark:text-gray-300"},we={class:"info-item md:col-span-2"},_e={class:"ml-2 text-gray-700 dark:text-gray-300"},he={key:0,class:"info-item md:col-span-2"},$e={class:"ml-2 text-gray-700 dark:text-gray-300 italic"},Ce={__name:"WordCard",props:{word:{type:Object,default:null},learningState:{type:String,default:"idle"},feedback:{type:String,default:""},feedbackType:{type:String,default:""},showExample:{type:Boolean,default:!0},showWordInfo:{type:Boolean,default:!1}},emits:["next-word","show-answer"],setup(t,{emit:x}){const l=t,_=g(()=>l.learningState==="answered"||l.learningState==="reviewing"),m=g(()=>l.learningState==="idle"&&l.word),r=g(()=>{const c=[];return l.feedbackType==="correct"?c.push("border-green-200","bg-green-50","dark:border-green-800","dark:bg-green-900/20"):l.feedbackType==="incorrect"?c.push("border-red-200","bg-red-50","dark:border-red-800","dark:bg-red-900/20"):l.feedbackType==="show_answer"&&c.push("border-blue-200","bg-blue-50","dark:border-blue-800","dark:bg-blue-900/20"),c.push("hover:shadow-card-hover"),c}),k=g(()=>l.feedbackType==="correct"?"bg-green-100 text-green-800 dark:bg-green-800/30 dark:text-green-300":l.feedbackType==="incorrect"?"bg-red-100 text-red-800 dark:bg-red-800/30 dark:text-red-300":l.feedbackType==="show_answer"?"bg-blue-100 text-blue-800 dark:bg-blue-800/30 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-800/30 dark:text-gray-300"),u=g(()=>l.feedbackType==="correct"?"âœ…":l.feedbackType==="incorrect"?"âŒ":l.feedbackType==="show_answer"?"ğŸ’¡":"â„¹ï¸");return(c,n)=>{var y,v,h,$,p;return a(),d("div",de,[e("div",{class:C(["word-card card p-8 text-center transition-all duration-300",r.value])},[(y=t.word)!=null&&y.pos?(a(),d("div",ne,i(t.word.pos),1)):b("",!0),(v=t.word)!=null&&v.meaning?(a(),d("h2",oe,i(t.word.meaning),1)):b("",!0),(h=t.word)!=null&&h.example&&t.showExample?(a(),d("div",le,' "'+i(t.word.example)+'" ',1)):b("",!0),t.feedback?(a(),d("div",{key:3,class:C(["feedback mt-6 p-4 rounded-lg transition-all duration-300",k.value])},[e("div",ie,[e("span",ce,i(u.value),1),e("span",ue,i(t.feedback),1)])],2)):b("",!0),_.value?(a(),d("div",ge,[e("button",{onClick:n[0]||(n[0]=S=>c.$emit("next-word")),class:"btn btn-primary px-6 py-3"}," ä¸‹ä¸€ä¸ªå•è¯ "),m.value?(a(),d("button",{key:0,onClick:n[1]||(n[1]=S=>c.$emit("show-answer")),class:"btn btn-secondary px-6 py-3"}," æŸ¥çœ‹ç­”æ¡ˆ ")):b("",!0)])):b("",!0),t.learningState==="loading"?(a(),d("div",xe,[...n[2]||(n[2]=[e("div",{class:"flex items-center justify-center space-x-2 text-gray-500"},[e("div",{class:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e("span",null,"åŠ è½½ä¸­...")],-1)])])):b("",!0),($=t.word)!=null&&$.hasDerivatives?(a(),d("div",be,[...n[3]||(n[3]=[e("div",{class:"flex items-center justify-center space-x-2 text-blue-700 dark:text-blue-300"},[e("span",null,"ğŸ“š"),e("span",{class:"text-sm"},"è¿™ä¸ªå•è¯æœ‰æ´¾ç”Ÿè¯éœ€è¦å­¦ä¹ ")],-1)])])):b("",!0)],2),(p=t.word)!=null&&p.word&&t.showWordInfo?(a(),d("div",pe,[e("div",me,[e("div",ye,[n[4]||(n[4]=e("span",{class:"font-medium text-gray-500 dark:text-gray-400"},"è‹±æ–‡:",-1)),e("span",fe,i(t.word.word),1)]),e("div",ke,[n[5]||(n[5]=e("span",{class:"font-medium text-gray-500 dark:text-gray-400"},"è¯æ€§:",-1)),e("span",ve,i(t.word.pos),1)]),e("div",we,[n[6]||(n[6]=e("span",{class:"font-medium text-gray-500 dark:text-gray-400"},"é‡Šä¹‰:",-1)),e("span",_e,i(t.word.meaning),1)]),t.word.example?(a(),d("div",he,[n[7]||(n[7]=e("span",{class:"font-medium text-gray-500 dark:text-gray-400"},"ä¾‹å¥:",-1)),e("span",$e,'"'+i(t.word.example)+'"',1)])):b("",!0)])])):b("",!0)])}}},Se=I(Ce,[["__scopeId","data-v-2c604e16"]]);const We={class:"learning-view container-custom py-6"},Te={class:"stats-section mb-8"},Ie={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},je={class:"stat-card card p-4 text-center"},Ae={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Be={class:"stat-card card p-4 text-center"},Ne={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Fe={class:"stat-card card p-4 text-center"},Ve={class:"text-2xl font-bold text-red-600 dark:text-red-400"},Ee={class:"stat-card card p-4 text-center"},Me={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},ze={class:"progress-section mb-8"},De={class:"word-section mb-8"},Le={key:0,class:"input-section mb-8"},Pe={class:"card p-6"},Ke={class:"flex flex-col md:flex-row gap-4 items-center"},Re=["disabled","placeholder"],Oe={class:"flex gap-2"},Ue=["disabled"],qe=["disabled"],Ge={key:1,class:"empty-state text-center py-16"},He=["accept"],Je={__name:"LearningView",setup(t){const x=U(),l=B(null),{currentWord:_,learningState:m,userAnswer:r,feedback:k,feedbackType:u,stats:c,loadRandomWord:n,submitAnswer:y,showAnswer:v,loadWordsFile:h}=x,$=g(()=>x.hasCurrentWord),p=g(()=>x.isInputEnabled);g(()=>x.isAnswerCorrect);const S=g(()=>q.supportedFileFormats.join(",")),F=()=>{var w;(w=l.value)==null||w.click()},V=w=>{const s=w.target.files[0];s&&h(s.path||s.name),w.target.value=""},W=B(null),T=()=>{R(()=>{W.value&&p.value&&W.value.focus()})};return watch(p,T),watch(m,T),M(()=>{x.initialize(),n(),T()}),(w,s)=>(a(),d("div",We,[e("div",Te,[e("div",Ie,[e("div",je,[e("div",Ae,i(o(c).totalWords),1),s[4]||(s[4]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"æ€»å•è¯",-1))]),e("div",Be,[e("div",Ne,i(o(c).masteredWords),1),s[5]||(s[5]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"å·²æŒæ¡",-1))]),e("div",Fe,[e("div",Ve,i(o(c).wrongWords),1),s[6]||(s[6]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"é”™è¯",-1))]),e("div",Ee,[e("div",Me,i(Math.round(o(c).progress*100))+"% ",1),s[7]||(s[7]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"è¿›åº¦",-1))])])]),e("div",ze,[N(ae,{progress:o(c).progress},null,8,["progress"])]),e("div",De,[N(Se,{word:o(_),"learning-state":o(m),feedback:o(k),"feedback-type":o(u),onNextWord:o(n),onShowAnswer:o(v)},null,8,["word","learning-state","feedback","feedback-type","onNextWord","onShowAnswer"])]),$.value?(a(),d("div",Le,[e("div",Pe,[e("div",Ke,[z(e("input",{"onUpdate:modelValue":s[0]||(s[0]=f=>L(r)?r.value=f:null),onKeyup:s[1]||(s[1]=P((...f)=>o(y)&&o(y)(...f),["enter"])),disabled:!p.value,placeholder:p.value?"è¯·è¾“å…¥è‹±æ–‡å•è¯...":"ç­‰å¾…ä¸‹ä¸€é¢˜...",class:"input flex-1 text-lg py-3",ref_key:"answerInput",ref:W},null,40,Re),[[D,o(r)]]),e("div",Oe,[e("button",{onClick:s[2]||(s[2]=(...f)=>o(y)&&o(y)(...f)),disabled:!p.value||!o(r).trim(),class:"btn btn-primary px-6 py-3 text-lg"}," æäº¤ç­”æ¡ˆ ",8,Ue),e("button",{onClick:s[3]||(s[3]=(...f)=>o(v)&&o(v)(...f)),disabled:!p.value,class:"btn btn-secondary px-6 py-3 text-lg"}," æŸ¥çœ‹ç­”æ¡ˆ ",8,qe)])])])])):(a(),d("div",Ge,[e("div",{class:"card p-8 max-w-md mx-auto"},[s[8]||(s[8]=e("div",{class:"text-6xl mb-4"},"ğŸ“š",-1)),s[9]||(s[9]=e("h3",{class:"text-xl font-semibold mb-2"},"è¿˜æ²¡æœ‰å•è¯åº“",-1)),s[10]||(s[10]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," è¯·å…ˆåŠ è½½å•è¯åº“æ–‡ä»¶å¼€å§‹å­¦ä¹  ",-1)),e("button",{onClick:F,class:"btn btn-primary px-6 py-3"}," æ‰“å¼€å•è¯åº“ ")])])),s[11]||(s[11]=K('<div class="shortcuts-section mt-8" data-v-da19a344><div class="text-center" data-v-da19a344><p class="text-sm text-gray-500 dark:text-gray-400" data-v-da19a344> å¿«æ·é”®: <kbd class="px-2 py-1 text-xs bg-gray-200 dark:bg-gray-700 rounded" data-v-da19a344>Ctrl+Tab</kbd> ä¸‹ä¸€ä¸ªå•è¯ â€¢ <kbd class="px-2 py-1 text-xs bg-gray-200 dark:bg-gray-700 rounded" data-v-da19a344>Alt+S</kbd> æ˜¾ç¤ºç­”æ¡ˆ â€¢ <kbd class="px-2 py-1 text-xs bg-gray-200 dark:bg-gray-700 rounded" data-v-da19a344>Enter</kbd> æäº¤ç­”æ¡ˆ </p></div></div>',1)),e("input",{type:"file",ref_key:"fileInput",ref:l,onChange:V,accept:S.value,class:"hidden"},null,40,He)]))}},Ze=I(Je,[["__scopeId","data-v-da19a344"]]);export{Ze as default};
