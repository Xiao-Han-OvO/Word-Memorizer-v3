import{r as m,c as b,D as A,a as f,b as x,e,t as i,w as D,y as r,z as y,E as C,g as S,F as E,k as F,f as M,o as O,l as Q}from"./vendor-24828a23.js";import{_ as B,a as G}from"./index-d08aca9e.js";import"./utils-b3ab6b14.js";const H={class:"text-xl font-bold mb-4"},J=["onUpdate:modelValue"],K=["onUpdate:modelValue"],P=["onClick"],R={class:"flex justify-end space-x-3 pt-4"},X=["disabled"],Y={__name:"WordEditDialog",props:{show:{type:Boolean,default:!1},word:{type:Object,default:null}},emits:["save","close"],setup(h,{emit:w}){const u=h,p=w,l=m({word:"",pos:"",meaning:"",example:"",derivatives:[]}),c=b(()=>l.value.word.trim()&&l.value.pos&&l.value.meaning.trim()),v=()=>{l.value={word:"",pos:"",meaning:"",example:"",derivatives:[]}},_=()=>{l.value.derivatives.push({word:"",pos:"n.",meaning:""})},V=n=>{l.value.derivatives.splice(n,1)},W=()=>{if(!c.value)return;const n=l.value.derivatives.filter(s=>s.word.trim());p("save",{...l.value,derivatives:n}),v()};return A(()=>u.word,n=>{n?l.value={word:n.word||"",pos:n.pos||"",meaning:n.meaning||"",example:n.example||"",derivatives:n.derivatives?[...n.derivatives]:[]}:v()},{immediate:!0}),(n,s)=>h.show?(f(),x("div",{key:0,class:"dialog-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:s[6]||(s[6]=d=>n.$emit("close"))},[e("div",{class:"dialog-content card p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:s[5]||(s[5]=D(()=>{},["stop"]))},[e("h3",H,i(n.editingWord?"ç¼–è¾‘å•è¯":"æ·»åŠ æ–°å•è¯"),1),e("form",{onSubmit:D(W,["prevent"]),class:"space-y-4"},[e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium mb-2"},"è‹±æ–‡å•è¯ *",-1)),r(e("input",{"onUpdate:modelValue":s[0]||(s[0]=d=>l.value.word=d),type:"text",required:"",class:"input",placeholder:"è¾“å…¥è‹±æ–‡å•è¯"},null,512),[[y,l.value.word]])]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium mb-2"},"è¯æ€§ *",-1)),r(e("select",{"onUpdate:modelValue":s[1]||(s[1]=d=>l.value.pos=d),required:"",class:"input"},[...s[8]||(s[8]=[S('<option value="" data-v-d1120f55>é€‰æ‹©è¯æ€§</option><option value="n." data-v-d1120f55>åè¯ (n.)</option><option value="v." data-v-d1120f55>åŠ¨è¯ (v.)</option><option value="adj." data-v-d1120f55>å½¢å®¹è¯ (adj.)</option><option value="adv." data-v-d1120f55>å‰¯è¯ (adv.)</option><option value="prep." data-v-d1120f55>ä»‹è¯ (prep.)</option><option value="conj." data-v-d1120f55>è¿è¯ (conj.)</option><option value="pron." data-v-d1120f55>ä»£è¯ (pron.)</option><option value="interj." data-v-d1120f55>æ„Ÿå¹è¯ (interj.)</option>',9)])],512),[[C,l.value.pos]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium mb-2"},"ä¸­æ–‡é‡Šä¹‰ *",-1)),r(e("input",{"onUpdate:modelValue":s[2]||(s[2]=d=>l.value.meaning=d),type:"text",required:"",class:"input",placeholder:"è¾“å…¥ä¸­æ–‡é‡Šä¹‰"},null,512),[[y,l.value.meaning]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium mb-2"},"ä¾‹å¥",-1)),r(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=d=>l.value.example=d),class:"input resize-none",rows:"3",placeholder:"è¾“å…¥åŒ…å«è¯¥å•è¯çš„ä¾‹å¥ï¼ˆå¯é€‰ï¼‰"},null,512),[[y,l.value.example]])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium mb-2"},"æ´¾ç”Ÿè¯",-1)),(f(!0),x(E,null,F(l.value.derivatives,(d,k)=>(f(),x("div",{key:k,class:"derivative-item flex items-center space-x-2 mb-2"},[r(e("input",{"onUpdate:modelValue":g=>d.word=g,type:"text",class:"input flex-1",placeholder:"æ´¾ç”Ÿè¯"},null,8,J),[[y,d.word]]),r(e("select",{"onUpdate:modelValue":g=>d.pos=g,class:"input w-24"},[...s[12]||(s[12]=[e("option",{value:"n."},"n.",-1),e("option",{value:"v."},"v.",-1),e("option",{value:"adj."},"adj.",-1),e("option",{value:"adv."},"adv.",-1)])],8,K),[[C,d.pos]]),e("button",{type:"button",onClick:g=>V(k),class:"p-2 text-red-600 hover:text-red-800"}," ğŸ—‘ï¸ ",8,P)]))),128)),e("button",{type:"button",onClick:_,class:"btn btn-secondary text-sm"}," + æ·»åŠ æ´¾ç”Ÿè¯ ")]),e("div",R,[e("button",{type:"button",onClick:s[4]||(s[4]=d=>n.$emit("close")),class:"btn btn-secondary"}," å–æ¶ˆ "),e("button",{type:"submit",class:"btn btn-primary",disabled:!c.value},i(n.editingWord?"æ›´æ–°":"æ·»åŠ "),9,X)])],32)])])):M("",!0)}},Z=B(Y,[["__scopeId","data-v-d1120f55"]]);const ee={class:"word-manager-view container-custom py-6"},te={class:"stats-section mb-6"},se={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},oe={class:"stat-card card p-4"},le={class:"text-2xl font-bold text-blue-600"},ae={class:"stat-card card p-4"},ne={class:"text-2xl font-bold text-green-600"},de={class:"stat-card card p-4"},ie={class:"text-2xl font-bold text-red-600"},re={class:"stat-card card p-4"},ve={class:"text-2xl font-bold text-purple-600"},ue={class:"filters-section mb-6"},pe={class:"card p-4"},ce={class:"flex flex-col md:flex-row gap-4"},me={class:"flex-1"},fe={class:"flex space-x-2"},xe={class:"words-section"},ge={class:"card p-6"},be={class:"col-span-4 font-medium text-gray-900 dark:text-white"},ye={class:"col-span-2"},we={class:"tag tag-pos"},_e={class:"col-span-4 text-gray-700 dark:text-gray-300"},ke={class:"col-span-2 flex justify-center space-x-2"},Ce=["onClick"],he=["onClick"],Ve={key:0,class:"empty-state text-center py-12"},We={class:"text-gray-600 dark:text-gray-400 mb-6"},$e={__name:"WordManagerView",setup(h){const w=G(),u=m(""),p=m("all"),l=m("word"),c=m(!1),v=m(null),_=m(null),{allWords:V,stats:W,getAllWords:n}=w,s=b(()=>V.value||[]),d=b(()=>s.value.filter(o=>o.mastered)),k=b(()=>s.value.filter(o=>o.wrong)),g=b(()=>s.value.filter(o=>!o.mastered)),$=b(()=>{let o=s.value;if(u.value){const t=u.value.toLowerCase();o=o.filter(a=>a.word.toLowerCase().includes(t)||a.meaning.toLowerCase().includes(t)||a.pos.toLowerCase().includes(t))}return p.value==="mastered"?o=o.filter(t=>t.mastered):p.value==="wrong"?o=o.filter(t=>t.wrong):p.value==="remaining"&&(o=o.filter(t=>!t.mastered)),l.value==="word"?o.sort((t,a)=>t.word.localeCompare(a.word)):l.value==="pos"&&o.sort((t,a)=>t.pos.localeCompare(a.pos)),o}),j=()=>{v.value=null,c.value=!0},L=o=>{v.value={...o},c.value=!0},N=o=>{confirm(`ç¡®å®šè¦åˆ é™¤å•è¯ "${o.word}" å—ï¼Ÿ`)&&console.log("åˆ é™¤å•è¯:",o)},q=o=>{v.value?console.log("æ›´æ–°å•è¯:",o):console.log("æ·»åŠ æ–°å•è¯:",o),U()},U=()=>{c.value=!1,v.value=null},I=()=>{var o;(o=_.value)==null||o.click()},z=o=>{const t=o.target.files[0];t&&w.loadWordsFile(t.path||t.name),o.target.value=""};return O(()=>{n()}),(o,t)=>(f(),x("div",ee,[e("div",{class:"page-header mb-8"},[e("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between"},[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"}," å•è¯ç®¡ç† "),e("p",{class:"text-gray-600 dark:text-gray-400"}," ç®¡ç†æ‚¨çš„å•è¯åº“ï¼Œæ·»åŠ ã€ç¼–è¾‘æˆ–åˆ é™¤å•è¯ ")],-1)),e("div",{class:"flex space-x-3 mt-4 md:mt-0"},[e("button",{onClick:I,class:"btn btn-secondary"}," å¯¼å…¥å•è¯åº“ "),e("button",{onClick:j,class:"btn btn-primary"}," + æ·»åŠ å•è¯ ")])])]),e("div",te,[e("div",se,[e("div",oe,[e("div",le,i(s.value.length),1),t[4]||(t[4]=e("div",{class:"text-sm text-gray-600"},"æ€»å•è¯æ•°",-1))]),e("div",ae,[e("div",ne,i(d.value.length),1),t[5]||(t[5]=e("div",{class:"text-sm text-gray-600"},"å·²æŒæ¡",-1))]),e("div",de,[e("div",ie,i(k.value.length),1),t[6]||(t[6]=e("div",{class:"text-sm text-gray-600"},"é”™è¯",-1))]),e("div",re,[e("div",ve,i(g.value.length),1),t[7]||(t[7]=e("div",{class:"text-sm text-gray-600"},"å¾…å­¦ä¹ ",-1))])])]),e("div",ue,[e("div",pe,[e("div",ce,[e("div",me,[r(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>u.value=a),placeholder:"æœç´¢å•è¯...",class:"input w-full"},null,512),[[y,u.value]])]),e("div",fe,[r(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>p.value=a),class:"input"},[...t[8]||(t[8]=[e("option",{value:"all"},"æ‰€æœ‰å•è¯",-1),e("option",{value:"mastered"},"å·²æŒæ¡",-1),e("option",{value:"wrong"},"é”™è¯",-1),e("option",{value:"remaining"},"å¾…å­¦ä¹ ",-1)])],512),[[C,p.value]]),r(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>l.value=a),class:"input"},[...t[9]||(t[9]=[e("option",{value:"word"},"æŒ‰å•è¯æ’åº",-1),e("option",{value:"pos"},"æŒ‰è¯æ€§æ’åº",-1),e("option",{value:"custom"},"è‡ªå®šä¹‰æ’åº",-1)])],512),[[C,l.value]])])])])]),e("div",xe,[e("div",ge,[t[12]||(t[12]=S('<div class="grid grid-cols-12 gap-4 px-4 py-2 text-sm font-medium text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700" data-v-fec48852><div class="col-span-4" data-v-fec48852>å•è¯</div><div class="col-span-2" data-v-fec48852>è¯æ€§</div><div class="col-span-4" data-v-fec48852>é‡Šä¹‰</div><div class="col-span-2 text-center" data-v-fec48852>æ“ä½œ</div></div>',1)),(f(!0),x(E,null,F($.value,a=>(f(),x("div",{key:a.id||a.word,class:"word-item grid grid-cols-12 gap-4 px-4 py-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"},[e("div",be,i(a.word),1),e("div",ye,[e("span",we,i(a.pos),1)]),e("div",_e,i(a.meaning),1),e("div",ke,[e("button",{onClick:T=>L(a),class:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"ç¼–è¾‘"}," âœï¸ ",8,Ce),e("button",{onClick:T=>N(a),class:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"åˆ é™¤"}," ğŸ—‘ï¸ ",8,he)])]))),128)),$.value.length===0?(f(),x("div",Ve,[t[10]||(t[10]=e("div",{class:"text-6xl mb-4"},"ğŸ“",-1)),t[11]||(t[11]=e("h3",{class:"text-xl font-semibold mb-2"},"æ²¡æœ‰æ‰¾åˆ°å•è¯",-1)),e("p",We,i(u.value?"å°è¯•è°ƒæ•´æœç´¢æ¡ä»¶":"å¼€å§‹æ·»åŠ æ‚¨çš„ç¬¬ä¸€ä¸ªå•è¯"),1),e("button",{onClick:j,class:"btn btn-primary"}," + æ·»åŠ å•è¯ ")])):M("",!0)])]),Q(Z,{show:c.value,word:v.value,onSave:q,onClose:U},null,8,["show","word"]),e("input",{type:"file",ref_key:"fileInput",ref:_,onChange:z,accept:".txt,.wdlst",class:"hidden"},null,544)]))}},Se=B($e,[["__scopeId","data-v-fec48852"]]);export{Se as default};
